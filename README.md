# Библиотека валидации датаматрикс кодов

Перечень поддерживаемых товарных групп:

* Обувь (ППР №860 от 05.07.2019)
* Товары лёгкой промышленности (ППР №1956 от 31.12.2019)
* Духи и туалетная вода (ППР №1957 от 31.12.2019)
* Молочная продукция (ППР №2099 от 15.12.2020)
* Пиво и слабоалкогольные напитки (ППР №2173 от 30.11.2022)
* Упакованная вода (ППР №841 от 31.05.2021)

# Даматарикс код можно валидировать

* **с указанием конкретной товарной группы**

```
public class DatamatrixService {

    public void doSomething(String datamatrixCode) {
        boolean result = DatamatrixValidator.validate(datamatrixCode, TradeGroup.SHOES);
        if (result) {
            // do something
        }
    }
}
```

* **или на соответствие любой товарной группе**

```
public class DatamatrixService {

    public void doSomething(String datamatrixCode) {
        boolean result = DatamatrixValidator.validate(datamatrixCode);
        if (result) {
            // do something
        }
    }
}
```

**Как подключить?**

**Maven**

```
<repository>
    <id>jitpack.io</id>
    <url>https://jitpack.io</url>
</repository>

<dependencies>
    <dependency>
     <groupId>com.github.lamoda</groupId>
     <artifactId>datamatrix-validator</artifactId>
     <version>${datamatrix.validator.version}</version>
    </dependency>
</dependencies>

```

**Gradle**

```
repositories {
        maven { url "https://jitpack.io" }
}

dependencies {
        compile 'com.github.lamoda:datamatrix-validator:${datamatrix.validator.version}'
}
```

**Правила валидации**

|  | Идентификатор применения | Обувь <br>(ППР №860 от 05.07.2019) | Товары лёгкой промышленности<br> (ППР №1956 от 31.12.2019) | Духи и туалетная вода<br> (ППР №1957 от 31.12.2019) | Пиво и слабоалкогольные напитки <br>(ППР №2173 от 30.11.2022) | Упакованная вода <br>(ППР №841 от 31.05.2021) | Молочная продукция <br>(ППР №2099 от 15.12.2020) | Обязательность | Правила валидации |
|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| GTIN | 01 | 4 цифр | 14 цифр | 14 цифр | 14 цифр | 14 цифр | 14 цифр | Обязателен для всех товарных групп  | * Идентификатор применения<br>* Кол-во символов (14)<br>* Что состоит только из цифр |
| Серийный номер | 21 | 13 символов | 13 символов | 13 символов | 7 символов | 13 символов | 6 символов | Обязателен для всех товарных групп  | * Идентификатор применения<br>* Кол-во символов (6 - молоко, 7 - пиво, 13 - остальная продукция)<br>* Отсутствие кириллицы,<br>* Наличие спец-символов согласно таблицы спецификации GS1 The GS1 subset of International Standard ISO/IEC 646<br>* Наличие в конце символа- разделителя GS (опционально, может быть, может отсутствовать) |
| ТНВЭД | 240 | 4 цифры | - | - | - | - | - | Опционален для обуви | * Идентификатор применения<br>* Кол-во символов (4)<br>* Что состоит только из цифр<br>* Наличие в конце символа- разделителя GS (опционально, может быть, может отсутствовать) |
| Ключ проверки | 91 - обувь, легпром, парфмерия;<br>93 - пиво, вода, молоко. | 4 символа | 4 символа | 4 символа | 4 символа | 4 символа | 4 символа | Обязателен для всех товарных групп | * Идентификатор применения<br>* Кол-во символов (4)<br>* Отсутствие кириллицы<br>* Наличие спец-символов согласно таблицы спецификации GS1 The GS1 subset of International Standard ISO/IEC 646<br>* Наличие в конце символа- разделителя GS (опционально, может быть, может отсутствовать) |
| Криптохвост | 92 | 88 символов | 44 символов | 44 символов | - | - | - | Обязателен для обуви, легпрома и парфюмерии | * Идентификатор применения<br>* Кол-во символов (88 или 44)<br>* Отсутствие кириллицы<br>* Наличие спец-символов согласно таблицы спецификации GS1 The GS1 subset of International Standard ISO/IEC 646 |
| Вес продукции | 3103 | - | - | - | - | - | 6 символов | Опционален для молока | * Идентификатор применения<br>* Кол-во символов (6)<br>* Только цифры |
| Объём продукции | 335Y, где Y может быть от 0 до 5 | - | - | - | 6 символов | - | - | Опционален для пива | * Идентификатор применения<br>* Кол-во символов (6)<br>* Только цифры |